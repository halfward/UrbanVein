<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Vein</title>

    


    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="icon" href="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/icon.svg" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Tutorial -->
    <div id="GuideOverlay" class="overlay">
        <div class="overlay-content">
            <h2>Welcome to Urban Vein</h2>
            <p>Each dot represents a type of building material in a 100m hexagon in NYC.</p>
            <p>This is a quick guide on how to use the site.</p>
            <label>
            <input type="checkbox" id="dontShowAgain"> Don't show this again
            </label>
            <button onclick="closeGuide()">Close</button>
        </div>
    </div>

    <!-- Fullscreen Popup -->
    <div class="popup-fullscreen" id="popupFullscreen" style="display: none;">
        <span class="close-popup" id="closePopup">&times;</span>
        <div class="fullscreen-popup-content">
            <div class="large-image-container">
                <img id="largeImage" src="https://raw.githubusercontent.com/halfward/UrbanVein/main/media/VA-01.webp" alt="Large Image">
            </div>
            <div class="image-gallery">
            </div>
        </div>
    </div>

    <!-- Sidebar Content -->
    <div id="sidebar">
        <div style="display: flex; align-items: center;">
            <img src="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/logo.svg" alt="Logo" id="logo">
            <span id="versionHistoryLink" class="clickable-text" style="margin-top: 18px; color: #bfcdcd; font-size: 0.7rem; display: block;"></span>
            <!-- Popup Modal -->
            <div id="popup" class="popup" style="display: none;">
                <div class="popup-content">
                    <span class="close" id="closePopup">&times;</span>
                    <pre id="versionHistoryContent"></pre> <!-- Preformatted text area -->
                </div>
            </div>
        </div>        
        <div class="nav-button" id="aboutButton">ABOUT</div>
        <div class="nav-button" id="storiesButton">STORIES</div>
        <div class="nav-button" id="explorerButton">EXPLORER</div>

        <img src="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/options.svg" alt="Options" id="optionsIcon" class="options-icon">
        <div id="options-popup" class="options-popup-content">
            <button class="popup-button" id="fullscreenButton">
                <img src="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/fullscreen.svg" alt="Fullscreen Icon" class="popup-icon"">
                <span>Fullscreen</span>
            </button>
            <button class="popup-button" id="darkModeButton">
                <img src="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/dark-mode.svg" alt="Dark Mode Icon" class="popup-icon">
                <span>Dark Mode</span>
            </button>
            <button class="popup-button" id="guideButton">
                <img src="https://raw.githubusercontent.com/halfward/UrbanVein/main/images/guide.svg" alt="Guide Icon" class="popup-icon">
                <span>Guide</span>
            </button>
        </div>
        
        <hr class="sidebar-line">
    
        <!-- Content containers -->
        <div id="aboutContentText" class="content-text" style="display: none;">
            <h2>A Building Material Map Platform</h2>
            <p>
                Urban Vein explores the relationships between building materials and their spatial distributions in urban contexts.
            </p>
            <p>This is a student project developed by <a href="www.linkedin.com/in/hao-lee-arch">Hao Lee</a> for the <a href="https://www.arch.columbia.edu/programs/15-m-s-computational-design-practices">Computational Design Practices program</a> at <a href="https://www.arch.columbia.edu/">GSAPP Columbia</a>. This project has evolved through three semesters of development within the Colloquium courses, guided by faculty members (in semester & alphabetical orders) William Martin, Violet Witney, Laura Kurgan, Snoweria Zhang, Catherine Griffith, and Seth Thompson.</p>
        </div>
    
        <div id="storiesContentText" class="content-text" style="display: none;">
            <h2>Looking Forward and Backward</h2>
            <p>Using material data and machine learning, the project maps and analyzes NYC’s built environment through construction materials, uncovering hidden historical trends, current environmental impacts, and future speculations. This material-centric approach provides an unbiased view of the city’s lifecycle—from resource acquisition to disposal—highlighting critical narratives such as demolition patterns, material trends, and underground resources. Ultimately, Urban Vein offers data-driven insights that challenge conventional architectural perspectives and inform the future of sustainable urban development.</p>
        </div>
    
        <div id="exploreContentText" class="content-text" style="display: block;">
            <h2>Building Material Distribution Data</h2>
            <p>This map combines <a href="https://www.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page">NYC PLUTO data</a> with inferred building typologies and uses machine learning to create a comprehensive material dataset. Each material’s density is represented by its circle size and color.</p>
        </div>
        <br>

        <!-- About -->
        <div id="navButtonAContainer" class="navButtonAContainer">
            <div id="dataButton" class="nav-button-2">Data</div>
            <div id="mediaButton" class="nav-button-2">Media</div>
            <div id="refButton" class="nav-button-2">References</div>
        </div>

        <!-- Stories -->
        <div id="navButtonBContainer" class="navButtonBContainer">
            <div id="pastButton" class="nav-button-2">Past</div>
            <div id="presentButton" class="nav-button-2">Present</div>
            <div id="futureButton" class="nav-button-2">Future</div>
        </div>

        <!-- Explorer -->
        <div id="navButtonCContainer" class="navButtonCContainer">
            <div id="legendButton" class="nav-button-2">Legend</div>
            <div id="timelineButton" class="nav-button-2">Timeline</div>
            <div id="satButton" class="nav-button-2">Maps</div>
        </div>


        <hr class="sidebar-line-2a">
        <hr class="sidebar-line-2b">


        <div>
            <canvas id="RoseChart"></canvas>
        </div>

        <div id="layerControls">
            <button id="toggleBrick">Brick</button>
            <button id="toggleConcrete">Concrete</button>
            <button id="toggleGlass">Glass</button>
            <button id="toggleStone">Stone</button>
            <button id="toggleSteel">Steel</button>
        </div>
        
        <div id="scrollableTextData" class="scrollable-text-data" style="display: none;">
            <p>
                <h3>Building Material Estimate</h3>
                NYC buliding material estimate data<br>
                by Hao Lee
                
                <h3>Base Map</h3>
                <a href="https://www.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page">NYC PLUTO Data</a><br>
                by <a href="https://www.nyc.gov/site/planning/index.page">NYC Department of City Planning</a>
                <br><br>
                <a href="https://github.com/CityOfNewYork/nyc-geo-metadata/blob/main/Metadata/Metadata_BuildingFootprints.md">NYC Building Footprints</a><br>
                by <a href="https://opendata.cityofnewyork.us/">NYC OpenData</a>

                <h3>Base Map Background</h3>
                <a href="https://gisdata.ny.gov/GISData/State/Civil_Boundaries/NYS_Civil_Boundaries.shp.zip">New York State Civil Boundaries</a><br>
                by <a href="https://gis.ny.gov/">New York State GIS Resources</a>
                <br><br>
                <a href="https://gisdata-njdep.opendata.arcgis.com/datasets/3a79b8275ec64325999738b64be8fa14_8/explore?showTable=true">Coastline (2012) of New Jersey</a><br>
                by <a href="https://gisdata-njdep.opendata.arcgis.com/">NJDEP Bureau of GIS</a>

                <h3>Stories</h3>
                <a href="https://data.cityofnewyork.us/City-Government/Construction-Demolition-Registrants/cspg-yi7g/about_data">Construction Demolition Registrants</a><br>
                by <a href="https://opendata.cityofnewyork.us/">NYC OpenData</a>
                
            </p>
        </div>

        <div id="scrollableTextMedia" class="scrollable-text-media" style="display: none;">
            <h3 id="visualizationArchive" style="cursor: pointer"><a>Visualization Archive</a></h3>
            <p>
                This is the visualization exploration process, done in QGIS.
            </p>
            <h3 id="colloquiumPoster" style="cursor: pointer"><a>Collloquium II Review Poster</a></h3>
            <p>
                This is the poster for colloquium II's end of semester review.
            </p>
            <h3 id="guerillaUrbanism" style="cursor: pointer"><a href="https://gsapp-cdp.github.io/colloquium-1-2024/work/hao-lee/">Guerilla Urbanism (External)</a></h3>
            <p>
                This is colloquium I's project website, which consists of two material-related speculative projects, Booleanify and Balloonify.
            </p>
        </div>

        <div id="scrollableTextRef" class="scrollable-text-ref" style="display: none;">
            <p>
                <h3>Visualization</h3>
                <a href="https://climate-conflict.org/www/data-pages/hazards">Climate-Conflict-Vulnerability Index</a>
                <br>
                by <a href="https://truth-and-beauty.net/">Moritz Stefaner</a>

                <h3>Mapping Platform</h3>
                <a href="https://mappinghny.com/?lng=-73.9760&lat=40.7220&zoom=12.50&maps=[{%22center%22:{%22lat%22:40.722,%22lng%22:-73.976},%22demographicOpacity%22:1,%22demographicsFilters%22:{},%22filters%22:{},%22layers%22:[{%22id%22:%22dwellings-dot-density-birthplace%22,%22dotDensityValues%22:[{%22label%22:%22England+and+Scotland%22,%22dotDensityColor%22:%22%23FBD44A%22,%22fieldName%22:%22bpl_4_41000%22},{%22label%22:%22Ireland%22,%22dotDensityColor%22:%22%23EC8457%22,%22fieldName%22:%22bpl_4_41400%22},{%22label%22:%22Russia%22,%22dotDensityColor%22:%22%23F17CBA%22,%22fieldName%22:%22bpl_3_46999%22},{%22label%22:%22Germany%22,%22dotDensityColor%22:%22%235AC2CD%22,%22fieldName%22:%22bpl_4_45300%22},{%22label%22:%22Caribbean+%26+West+Indies%22,%22dotDensityColor%22:%22%2367D78D%22,%22fieldName%22:%22bpl_2_14%22},{%22label%22:%22Italy%22,%22dotDensityColor%22:%22%23DE92F1%22,%22fieldName%22:%22bpl_4_43400%22}]}],%22rasterOpacity%22:1,%22year%22:%221880%22,%22zoom%22:12.5}]&rasterOpacity0=1">Mapping Historical New York</a>
                <br>
                by <a href="https://c4sr.columbia.edu/">Center for Spatial Research</a>
                <br><br>
                <a href="https://www.nyc.gov/assets/buildings/html/dob-development-report-2022.html">NYC Construction Dashboard 2022</a>
                <br>
                by DOB Analytics

                <h3>Material Estimation & Circular Economy</h3>
                <a href="https://www.bamb2020.eu/wp-content/uploads/2019/02/BAMB_MaterialsPassports_BestPractice.pdf#page=54">Materials Passports - Best Practices</a>
                <br>
                by Matthias Heinrich and Werner Lang

                <a href="https://www.circularise.com/industry/construction">Circularise</a>
                <br>
                by <a href="https://www.circularise.com">Circularise</a>
                <br><br>
                <a href="https://www.zillow.com/z/zestimate/">Zestimate</a>
                <br>
                by <a href="https://www.zillow.com">Zillow</a>
            </p>
        </div> 

        <!-- Stories---------------------------------------------- -->
        <div id="scrollableTextPast" class="scrollable-text-stories" style="display: none;">
            <h3>Historical NYC</h3>
            <p>Using materials to identify key decisions in city planning and urban development.</p>
        </div>
        <div id="scrollableTextPresent" class="scrollable-text-stories" style="display: none;">
            <h3>Underground NYC</h3>
            <p>Concrete foundations.</p>
            <h3>Demolition Materials</h3>
            <p>Demolition activity from the 1980s to 2023.</p>
            <h3>Material Carbon Footprints</h3>
            <p>The carbon footprint of our built environment.</p>
        </div>
        <div id="scrollableTextFuture" class="scrollable-text-stories" style="display: none;">
            <h3>2124: The United Material Kingdoms</h3>
            <p>Identifying material clusters.</p>
        </div>

        <!-- Explorer------------------------------------------- -->
        <div id="scrollableTextC" class="scrollable-text-c" style="display: none;">
            <p>This map uses individual quantile classifications for each material instead of a universal one. This decision is based on several key considerations:
                <br><br>
                <h3>1. Data Precision and Integrity</h3>
                Uncertainty of the Data: The dataset we are working with is based on approximations and educated estimates rather than precise measurements. As such, it is essential to avoid creating over-confident visual representations that could imply a level of accuracy that the data does not possess.
                Avoiding Over-Interpretation: By using separate bins for each material, we ensure that the inherent fuzziness and uncertainty of the data are accurately represented. This prevents the data from being interpreted as more definitive or certain than it actually is.
                <br><br>
                <h3>2. Material Weight Differences</h3>
                Inherent Disparities in Material Properties: Different materials, such as steel, concrete, or brick, have vastly different weights and properties. These differences make it inaccurate to compare the values of one material to another using a universal bin. A direct comparison between materials could distort the understanding of their distribution, as the weight and volume of each material influence its presence in the dataset.
                Material-Specific Comparisons: Instead, by using separate bins for each material, we ensure that each material’s distribution is evaluated within its own context. This method allows for an accurate comparison of a single material against its own distribution, ensuring that variations in material properties do not skew the analysis.
                <br><br>
                <h3>3. Enabling Meaningful Comparison</h3>
                Local vs. Citywide Comparison: The use of individual bins allows for a more granular comparison of material distributions. For instance, when comparing a specific region's material composition to that of the entire city of New York, this approach ensures that the data reflects the unique characteristics of each material while still situating it in the context of the broader urban landscape.
                Contextual Analysis: By separating the bins for each material, users can directly compare the relative prevalence of materials in a given area with citywide averages, offering deeper insights into regional material characteristics and urban trends.
                <br><br>
                <h3>4. Enhanced Analytical Flexibility</h3>
                Customizable Binning: Using distinct bins for each material allows for flexibility in data analysis. The ability to adjust the number of bins or reclassify values within each material’s category enables more nuanced visualizations and tailored interpretations, ensuring that the presentation of the data is both relevant and insightful.</p>
        </div>

        <div class="sidebar-bottom-buttons">
            <div class="button-with-icon">
                <button id="share" class="sidebar-button">Share</button>
                <img src="images/share.png" alt="Share" class="icon">
            </div>
            <div class="button-with-icon">
                <button id="follow" class="sidebar-button">Follow</button>
                <img src="images/follow.png" alt="Follow" class="icon">
            </div>
        </div>
    </div>
    <button id="toggleButton">
        <svg id="toggleIcon" width="24" height="24" viewBox="0 0 24 24">
            <path d="M14 7l-7 7 7 7" stroke="currentColor" />
        </svg>
    </button>
    

    <div id="mainMap"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <script src="main.js"></script>
</body>
</html>
